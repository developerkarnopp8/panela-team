<ion-content>
  <ion-img
    src="../../../../assets/img/detalhe.png"
    alt="Detalhes do Jogo"
  ></ion-img>

  <ion-text color="--ion-color-primary" class="ion-text-center">
    <h1>{{evento.name}}</h1>
  </ion-text>

  <ion-list>
    <ion-item *ngFor="let instancia of evento.instances">
      <ion-label>
        <ion-note *ngIf="isPast(instancia.endTime)" color="danger">
          Game encerrado
        </ion-note>
        <ion-note *ngIf="!isPast(instancia.endTime)" color="green">
          Game aberto
        </ion-note>
        <h2>{{ instancia.date | date:'dd/MM/yyyy' }}</h2>
        <p>HorÃ¡rio: {{ instancia.startTime | date:'HH:mm' }} - {{ instancia.endTime | date:'HH:mm' }}</p>
      </ion-label>

      <ion-item>
        <ion-toggle 
          [checked]=" !isPast(instancia.endTime) && instancia.isOpen" 
          [enableOnOffLabels]="true" 
          [disabled]="isPast(instancia.endTime)"
          (ionChange)="onToggleChange(instancia.id)">
            <p [ngStyle]="{'color': !isPast(instancia.endTime) && instancia.isOpen ? 'green' : 'gray'}">
              {{ !isPast(instancia.endTime) && instancia.isOpen ? 'Aberto' : 'Fechado' }}
            </p>
        </ion-toggle>
      </ion-item>

      <ion-button [disabled]="isPast(instancia.endTime)" size="small" >Ver mais</ion-button>
    </ion-item>
  </ion-list>
</ion-content>



